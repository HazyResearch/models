I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally
INFO:tensorflow:PS hosts are: ['master:2200']
INFO:tensorflow:Worker hosts are: ['master:2201', 'master:2202', 'master:2203', 'master:2204', 'node001:2205', 'node001:2206', 'node001:2207', 'node001:2208', 'node002:2209', 'node002:2210', 'node002:2211', 'node002:2212', 'node003:2213', 'node003:2214', 'node003:2215', 'node003:2216']
I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
I tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: 
name: GRID K520
major: 3 minor: 0 memoryClockRate (GHz) 0.797
pciBusID 0000:00:03.0
Total memory: 4.00GiB
Free memory: 3.95GiB
I tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 
I tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y 
I tensorflow/core/common_runtime/gpu/gpu_device.cc:784] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GRID K520, pci bus id: 0000:00:03.0)
I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {master:2200}
I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {localhost:2201, master:2202, master:2203, master:2204, node001:2205, node001:2206, node001:2207, node001:2208, node002:2209, node002:2210, node002:2211, node002:2212, node003:2213, node003:2214, node003:2215, node003:2216}
I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2201
INFO:tensorflow:Learning rate: 0.001000, momentum: 0.600000
INFO:tensorflow:Sync mode!!!!!!
INFO:tensorflow:Compute groups : 4
INFO:tensorflow:SyncReplicas enabled: replicas_to_aggregate=16; total_num_replicas=16
INFO:tensorflow:Num nodes per compute groups: 4
INFO:tensorflow:Tokens per step: 4
INFO:tensorflow:2016-08-09 17:42:59.055789 Supervisor
INFO:tensorflow:Restored model from /home/snapshot/model.ckpt-399
INFO:tensorflow:got sessions! 2016-08-09 17:43:53.545688 
INFO:tensorflow:Started 3 queues for processing input data.
INFO:tensorflow:global_step/sec: 0
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3869 get requests, put_count=2854 evicted_count=1000 eviction_rate=0.350385 and unsatisfied allocation rate=0.546653
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 100 to 110
INFO:tensorflow:Step: 399, Loss: 5.182777, time: 19.540 sec/batch
INFO:tensorflow:Step: 401, Loss: 5.645257, time: 4.200 sec/batch
INFO:tensorflow:Step: 403, Loss: 5.245825, time: 6.742 sec/batch
INFO:tensorflow:Step: 406, Loss: 5.575266, time: 4.505 sec/batch
INFO:tensorflow:Step: 408, Loss: 5.637978, time: 5.005 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=1016 evicted_count=1000 eviction_rate=0.984252 and unsatisfied allocation rate=0
INFO:tensorflow:Step: 412, Loss: 5.428162, time: 5.475 sec/batch
INFO:tensorflow:Step: 416, Loss: 5.949438, time: 5.325 sec/batch
INFO:tensorflow:Step: 422, Loss: 5.172409, time: 6.341 sec/batch
INFO:tensorflow:Step: 426, Loss: 5.431797, time: 4.639 sec/batch
INFO:tensorflow:Step: 430, Loss: 5.679848, time: 4.318 sec/batch
INFO:tensorflow:Step: 434, Loss: 5.442522, time: 5.052 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3768 get requests, put_count=4057 evicted_count=2000 eviction_rate=0.492975 and unsatisfied allocation rate=0.460722
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 281 to 309
INFO:tensorflow:Step: 438, Loss: 5.409060, time: 5.159 sec/batch
INFO:tensorflow:Step: 442, Loss: 5.112788, time: 4.711 sec/batch
INFO:tensorflow:Step: 446, Loss: 4.882327, time: 4.949 sec/batch
INFO:tensorflow:Step: 450, Loss: 5.281431, time: 3.995 sec/batch
INFO:tensorflow:Step: 454, Loss: 5.344382, time: 4.300 sec/batch
INFO:tensorflow:Step: 457, Loss: 5.386470, time: 4.486 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=1049 evicted_count=1000 eviction_rate=0.953289 and unsatisfied allocation rate=0
INFO:tensorflow:Step: 461, Loss: 5.223809, time: 5.107 sec/batch
INFO:tensorflow:Step: 466, Loss: 5.091615, time: 4.704 sec/batch
INFO:tensorflow:Step: 470, Loss: 5.456724, time: 4.680 sec/batch
INFO:tensorflow:global_step/sec: 0.652574
INFO:tensorflow:Step: 474, Loss: 5.145570, time: 3.955 sec/batch
INFO:tensorflow:Step: 478, Loss: 5.389332, time: 3.768 sec/batch
INFO:tensorflow:Step: 482, Loss: 5.262218, time: 4.981 sec/batch
INFO:tensorflow:Step: 486, Loss: 5.269680, time: 4.248 sec/batch
INFO:tensorflow:Step: 490, Loss: 5.162545, time: 5.033 sec/batch
INFO:tensorflow:Step: 494, Loss: 5.477323, time: 3.875 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3768 get requests, put_count=4017 evicted_count=1000 eviction_rate=0.248942 and unsatisfied allocation rate=0.227176
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 1158 to 1273
INFO:tensorflow:Step: 498, Loss: 5.289790, time: 4.222 sec/batch
INFO:tensorflow:Step: 502, Loss: 5.065202, time: 5.058 sec/batch
INFO:tensorflow:Step: 506, Loss: 5.438047, time: 3.949 sec/batch
INFO:tensorflow:Step: 510, Loss: 4.869883, time: 3.965 sec/batch
INFO:tensorflow:Step: 514, Loss: 5.371485, time: 3.806 sec/batch
INFO:tensorflow:Step: 518, Loss: 5.416312, time: 3.981 sec/batch
INFO:tensorflow:Step: 522, Loss: 5.142382, time: 4.171 sec/batch
INFO:tensorflow:Step: 526, Loss: 5.345424, time: 3.842 sec/batch
INFO:tensorflow:Step: 530, Loss: 5.293553, time: 4.570 sec/batch
INFO:tensorflow:Step: 534, Loss: 5.196337, time: 4.738 sec/batch
INFO:tensorflow:Step: 538, Loss: 5.340139, time: 4.864 sec/batch
INFO:tensorflow:Step: 543, Loss: 5.105385, time: 5.899 sec/batch
INFO:tensorflow:Step: 548, Loss: 5.313821, time: 5.942 sec/batch
INFO:tensorflow:Step: 553, Loss: 5.423424, time: 4.488 sec/batch
INFO:tensorflow:Step: 557, Loss: 5.460867, time: 4.701 sec/batch
INFO:tensorflow:Step: 561, Loss: 5.223424, time: 4.463 sec/batch
INFO:tensorflow:Step: 565, Loss: 5.493896, time: 5.322 sec/batch
INFO:tensorflow:Step: 569, Loss: 5.308125, time: 4.658 sec/batch
INFO:tensorflow:Step: 573, Loss: 5.000582, time: 4.322 sec/batch
INFO:tensorflow:Step: 577, Loss: 5.155554, time: 3.880 sec/batch
INFO:tensorflow:Step: 581, Loss: 5.347482, time: 4.470 sec/batch
INFO:tensorflow:global_step/sec: 0.908345
INFO:tensorflow:Step: 585, Loss: 5.334407, time: 4.600 sec/batch
INFO:tensorflow:Step: 589, Loss: 5.099578, time: 4.482 sec/batch
INFO:tensorflow:Step: 592, Loss: 5.474877, time: 4.617 sec/batch
INFO:tensorflow:Step: 595, Loss: 5.399394, time: 4.134 sec/batch
INFO:tensorflow:Step: 599, Loss: 5.207191, time: 4.075 sec/batch
INFO:tensorflow:Step: 603, Loss: 5.520007, time: 4.579 sec/batch
INFO:tensorflow:Step: 607, Loss: 5.027995, time: 5.873 sec/batch
INFO:tensorflow:Step: 611, Loss: 5.305680, time: 4.870 sec/batch
INFO:tensorflow:Step: 615, Loss: 5.257605, time: 4.937 sec/batch
INFO:tensorflow:Step: 619, Loss: 5.333900, time: 3.945 sec/batch
INFO:tensorflow:Step: 623, Loss: 5.221095, time: 4.985 sec/batch
INFO:tensorflow:Step: 627, Loss: 5.337573, time: 4.727 sec/batch
INFO:tensorflow:Step: 631, Loss: 5.106818, time: 5.115 sec/batch
INFO:tensorflow:Step: 635, Loss: 5.226383, time: 3.453 sec/batch
INFO:tensorflow:Step: 639, Loss: 4.921580, time: 4.300 sec/batch
INFO:tensorflow:Step: 643, Loss: 4.964563, time: 3.918 sec/batch
INFO:tensorflow:Step: 647, Loss: 5.234693, time: 3.947 sec/batch
INFO:tensorflow:Step: 651, Loss: 5.247362, time: 3.824 sec/batch
INFO:tensorflow:Step: 655, Loss: 5.481946, time: 4.364 sec/batch
INFO:tensorflow:Step: 659, Loss: 5.241410, time: 4.012 sec/batch
INFO:tensorflow:Step: 663, Loss: 5.304699, time: 4.273 sec/batch
INFO:tensorflow:Step: 667, Loss: 5.336891, time: 4.659 sec/batch
INFO:tensorflow:Step: 671, Loss: 5.140261, time: 4.305 sec/batch
INFO:tensorflow:Step: 675, Loss: 5.151986, time: 3.807 sec/batch
INFO:tensorflow:Step: 679, Loss: 5.390609, time: 4.040 sec/batch
INFO:tensorflow:Step: 683, Loss: 5.080221, time: 4.552 sec/batch
INFO:tensorflow:Step: 687, Loss: 5.277287, time: 3.869 sec/batch
INFO:tensorflow:global_step/sec: 0.89999
INFO:tensorflow:Step: 691, Loss: 5.287361, time: 4.390 sec/batch
INFO:tensorflow:Step: 695, Loss: 4.903483, time: 3.852 sec/batch
INFO:tensorflow:Step: 699, Loss: 5.269547, time: 4.649 sec/batch
INFO:tensorflow:Step: 703, Loss: 5.109121, time: 3.489 sec/batch
INFO:tensorflow:Step: 707, Loss: 5.565286, time: 4.166 sec/batch
INFO:tensorflow:Step: 711, Loss: 5.082093, time: 3.873 sec/batch
INFO:tensorflow:Step: 714, Loss: 5.204647, time: 4.726 sec/batch
INFO:tensorflow:Step: 718, Loss: 5.093760, time: 4.472 sec/batch
INFO:tensorflow:Step: 722, Loss: 5.029602, time: 4.954 sec/batch
INFO:tensorflow:Step: 726, Loss: 5.242632, time: 3.742 sec/batch
INFO:tensorflow:Step: 730, Loss: 4.961078, time: 4.223 sec/batch
INFO:tensorflow:Step: 734, Loss: 5.115602, time: 3.787 sec/batch
INFO:tensorflow:Step: 738, Loss: 5.367032, time: 4.602 sec/batch
INFO:tensorflow:Step: 742, Loss: 5.117993, time: 4.499 sec/batch
INFO:tensorflow:Step: 746, Loss: 5.367694, time: 3.922 sec/batch
INFO:tensorflow:Step: 750, Loss: 5.254033, time: 3.995 sec/batch
INFO:tensorflow:Step: 754, Loss: 5.144520, time: 4.354 sec/batch
INFO:tensorflow:Step: 758, Loss: 5.148726, time: 3.934 sec/batch
INFO:tensorflow:Step: 761, Loss: 5.201026, time: 3.730 sec/batch
INFO:tensorflow:Step: 765, Loss: 5.103645, time: 5.245 sec/batch
INFO:tensorflow:Step: 769, Loss: 5.209230, time: 3.676 sec/batch
INFO:tensorflow:Step: 773, Loss: 5.060909, time: 4.308 sec/batch
INFO:tensorflow:Step: 777, Loss: 4.957149, time: 5.182 sec/batch
INFO:tensorflow:Step: 781, Loss: 5.260332, time: 5.402 sec/batch
INFO:tensorflow:Step: 785, Loss: 5.363594, time: 4.562 sec/batch
INFO:tensorflow:Step: 789, Loss: 5.005238, time: 4.169 sec/batch
INFO:tensorflow:Step: 793, Loss: 5.266405, time: 4.423 sec/batch
INFO:tensorflow:Step: 797, Loss: 5.106590, time: 4.706 sec/batch
INFO:tensorflow:global_step/sec: 0.915859
INFO:tensorflow:Step: 801, Loss: 4.976593, time: 3.900 sec/batch
INFO:tensorflow:Step: 805, Loss: 5.005660, time: 4.057 sec/batch
INFO:tensorflow:Step: 809, Loss: 5.155546, time: 4.617 sec/batch
INFO:tensorflow:Step: 813, Loss: 4.973989, time: 4.638 sec/batch
INFO:tensorflow:Step: 817, Loss: 5.193299, time: 4.763 sec/batch
INFO:tensorflow:Step: 821, Loss: 5.191383, time: 3.902 sec/batch
INFO:tensorflow:Step: 825, Loss: 5.105345, time: 4.750 sec/batch
INFO:tensorflow:Step: 829, Loss: 5.292357, time: 4.282 sec/batch
INFO:tensorflow:Step: 834, Loss: 5.095630, time: 4.234 sec/batch
INFO:tensorflow:Step: 837, Loss: 5.009600, time: 3.975 sec/batch
run-expr-32node.sh: line 25: 106168 Terminated              CUDA_VISIBLE_DEVICES=$1 bazel-bin/inception/imagenet_distributed_train --batch_size=32 --data_dir=/home/data/sample-data-$2 --job_name='worker' --task_id=$2 --ps_hosts='master:2200' --worker_hosts='master:2201,master:2202,master:2203,master:2204,node001:2205,node001:2206,node001:2207,node001:2208,node002:2209,node002:2210,node002:2211,node002:2212,node003:2213,node003:2214,node003:2215,node003:2216' --initial_learning_rate=$3 --momentum=$4 --sync=True --compute_groups=$5
