I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally
INFO:tensorflow:PS hosts are: ['master:2200']
INFO:tensorflow:Worker hosts are: ['master:2201', 'master:2202', 'master:2203', 'master:2204', 'node001:2205', 'node001:2206', 'node001:2207', 'node001:2208', 'node002:2209', 'node002:2210', 'node002:2211', 'node002:2212', 'node003:2213', 'node003:2214', 'node003:2215', 'node003:2216']
I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
I tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: 
name: GRID K520
major: 3 minor: 0 memoryClockRate (GHz) 0.797
pciBusID 0000:00:03.0
Total memory: 4.00GiB
Free memory: 3.95GiB
I tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 
I tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y 
I tensorflow/core/common_runtime/gpu/gpu_device.cc:784] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GRID K520, pci bus id: 0000:00:03.0)
I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {master:2200}
I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {localhost:2201, master:2202, master:2203, master:2204, node001:2205, node001:2206, node001:2207, node001:2208, node002:2209, node002:2210, node002:2211, node002:2212, node003:2213, node003:2214, node003:2215, node003:2216}
I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2201
INFO:tensorflow:Learning rate: 0.010000, momentum: 0.300000
INFO:tensorflow:Sync mode!!!!!!
INFO:tensorflow:Compute groups : 4
INFO:tensorflow:SyncReplicas enabled: replicas_to_aggregate=16; total_num_replicas=16
INFO:tensorflow:Num nodes per compute groups: 4
INFO:tensorflow:Tokens per step: 4
INFO:tensorflow:2016-08-09 15:12:36.636374 Supervisor
INFO:tensorflow:Restored model from /home/snapshot/model.ckpt-399
INFO:tensorflow:got sessions! 2016-08-09 15:13:31.229290 
INFO:tensorflow:Started 3 queues for processing input data.
INFO:tensorflow:global_step/sec: 0
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3869 get requests, put_count=2853 evicted_count=1000 eviction_rate=0.350508 and unsatisfied allocation rate=0.546911
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 100 to 110
INFO:tensorflow:Step: 399, Loss: 5.221559, time: 22.764 sec/batch
INFO:tensorflow:Step: 402, Loss: 5.488602, time: 6.382 sec/batch
INFO:tensorflow:Step: 405, Loss: 5.317721, time: 5.690 sec/batch
INFO:tensorflow:Step: 408, Loss: 5.525195, time: 6.928 sec/batch
INFO:tensorflow:Step: 412, Loss: 5.718709, time: 5.420 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=1016 evicted_count=1000 eviction_rate=0.984252 and unsatisfied allocation rate=0
INFO:tensorflow:Step: 415, Loss: 5.445692, time: 6.336 sec/batch
INFO:tensorflow:Step: 419, Loss: 5.745653, time: 4.095 sec/batch
INFO:tensorflow:Step: 422, Loss: 5.067701, time: 4.399 sec/batch
INFO:tensorflow:Step: 426, Loss: 5.476927, time: 5.486 sec/batch
INFO:tensorflow:Step: 431, Loss: 5.464222, time: 4.691 sec/batch
INFO:tensorflow:Step: 433, Loss: 5.377459, time: 5.654 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3768 get requests, put_count=4061 evicted_count=2000 eviction_rate=0.49249 and unsatisfied allocation rate=0.45966
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 281 to 309
INFO:tensorflow:Step: 437, Loss: 5.284752, time: 4.409 sec/batch
INFO:tensorflow:Step: 441, Loss: 4.959975, time: 6.234 sec/batch
INFO:tensorflow:Step: 445, Loss: 4.753454, time: 5.528 sec/batch
INFO:tensorflow:Step: 448, Loss: 5.361006, time: 7.386 sec/batch
INFO:tensorflow:Step: 455, Loss: 5.297950, time: 4.136 sec/batch
INFO:tensorflow:Step: 457, Loss: 5.350669, time: 4.549 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=1049 evicted_count=1000 eviction_rate=0.953289 and unsatisfied allocation rate=0
INFO:tensorflow:Step: 461, Loss: 5.248976, time: 4.643 sec/batch
INFO:tensorflow:global_step/sec: 0.572198
INFO:tensorflow:Step: 465, Loss: 5.054970, time: 4.484 sec/batch
INFO:tensorflow:Step: 469, Loss: 5.489915, time: 4.611 sec/batch
INFO:tensorflow:Step: 473, Loss: 5.173701, time: 4.559 sec/batch
INFO:tensorflow:Step: 477, Loss: 5.376821, time: 5.245 sec/batch
INFO:tensorflow:Step: 481, Loss: 5.139671, time: 4.682 sec/batch
INFO:tensorflow:Step: 485, Loss: 5.611017, time: 4.441 sec/batch
INFO:tensorflow:Step: 489, Loss: 5.155498, time: 3.899 sec/batch
INFO:tensorflow:Step: 493, Loss: 5.441728, time: 4.503 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3768 get requests, put_count=4017 evicted_count=1000 eviction_rate=0.248942 and unsatisfied allocation rate=0.227176
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 1158 to 1273
INFO:tensorflow:Step: 497, Loss: 5.181581, time: 4.706 sec/batch
INFO:tensorflow:Step: 501, Loss: 4.929778, time: 4.389 sec/batch
INFO:tensorflow:Step: 505, Loss: 5.293059, time: 3.887 sec/batch
INFO:tensorflow:Step: 509, Loss: 4.797576, time: 4.363 sec/batch
INFO:tensorflow:Step: 513, Loss: 5.432234, time: 4.074 sec/batch
INFO:tensorflow:Step: 517, Loss: 5.364863, time: 4.273 sec/batch
INFO:tensorflow:Step: 521, Loss: 5.172904, time: 3.732 sec/batch
INFO:tensorflow:Step: 525, Loss: 5.223216, time: 4.224 sec/batch
INFO:tensorflow:Step: 529, Loss: 5.247324, time: 4.078 sec/batch
INFO:tensorflow:Step: 533, Loss: 5.222763, time: 4.752 sec/batch
INFO:tensorflow:Step: 537, Loss: 5.138340, time: 4.246 sec/batch
INFO:tensorflow:Step: 541, Loss: 5.049125, time: 4.040 sec/batch
INFO:tensorflow:Step: 545, Loss: 5.078277, time: 4.310 sec/batch
INFO:tensorflow:Step: 549, Loss: 5.214905, time: 3.818 sec/batch
INFO:tensorflow:Step: 553, Loss: 5.506229, time: 4.273 sec/batch
INFO:tensorflow:Step: 557, Loss: 4.968164, time: 4.840 sec/batch
INFO:tensorflow:Step: 561, Loss: 5.102432, time: 3.604 sec/batch
INFO:tensorflow:Step: 565, Loss: 5.287439, time: 4.528 sec/batch
INFO:tensorflow:Step: 569, Loss: 4.853220, time: 5.212 sec/batch
INFO:tensorflow:Step: 574, Loss: 4.992976, time: 4.645 sec/batch
INFO:tensorflow:global_step/sec: 0.92347
INFO:tensorflow:Step: 578, Loss: 5.279382, time: 4.050 sec/batch
INFO:tensorflow:Step: 582, Loss: 5.222981, time: 3.933 sec/batch
INFO:tensorflow:Step: 586, Loss: 5.106957, time: 3.998 sec/batch
INFO:tensorflow:Step: 590, Loss: 5.229418, time: 4.366 sec/batch
INFO:tensorflow:Step: 594, Loss: 5.230995, time: 4.966 sec/batch
INFO:tensorflow:Step: 598, Loss: 5.174330, time: 3.332 sec/batch
INFO:tensorflow:Step: 602, Loss: 5.352507, time: 4.256 sec/batch
INFO:tensorflow:Step: 606, Loss: 5.116117, time: 4.672 sec/batch
INFO:tensorflow:Step: 611, Loss: 5.260149, time: 6.084 sec/batch
INFO:tensorflow:Step: 615, Loss: 4.986051, time: 3.619 sec/batch
INFO:tensorflow:Step: 619, Loss: 5.157505, time: 3.358 sec/batch
INFO:tensorflow:Step: 622, Loss: 5.036563, time: 3.841 sec/batch
INFO:tensorflow:Step: 626, Loss: 5.248222, time: 4.412 sec/batch
INFO:tensorflow:Step: 630, Loss: 4.958706, time: 3.711 sec/batch
INFO:tensorflow:Step: 634, Loss: 5.141704, time: 4.020 sec/batch
INFO:tensorflow:Step: 638, Loss: 4.820976, time: 4.251 sec/batch
INFO:tensorflow:Step: 642, Loss: 4.758484, time: 4.367 sec/batch
INFO:tensorflow:Step: 646, Loss: 5.319023, time: 4.452 sec/batch
INFO:tensorflow:Step: 650, Loss: 5.230143, time: 4.272 sec/batch
INFO:tensorflow:Step: 654, Loss: 5.526348, time: 4.126 sec/batch
INFO:tensorflow:Step: 658, Loss: 5.096828, time: 3.718 sec/batch
INFO:tensorflow:Step: 662, Loss: 5.345806, time: 4.269 sec/batch
INFO:tensorflow:Step: 666, Loss: 5.141874, time: 4.167 sec/batch
INFO:tensorflow:Step: 670, Loss: 5.183066, time: 3.815 sec/batch
INFO:tensorflow:Step: 674, Loss: 5.008418, time: 4.398 sec/batch
INFO:tensorflow:Step: 678, Loss: 4.937335, time: 3.823 sec/batch
INFO:tensorflow:Step: 682, Loss: 4.961613, time: 4.558 sec/batch
INFO:tensorflow:Step: 686, Loss: 4.814793, time: 4.739 sec/batch
INFO:tensorflow:global_step/sec: 0.951655
INFO:tensorflow:Step: 690, Loss: 5.080880, time: 3.912 sec/batch
INFO:tensorflow:Step: 694, Loss: 4.667057, time: 3.606 sec/batch
INFO:tensorflow:Step: 698, Loss: 4.992199, time: 4.659 sec/batch
INFO:tensorflow:Step: 702, Loss: 4.775839, time: 3.867 sec/batch
INFO:tensorflow:Step: 706, Loss: 5.316520, time: 4.443 sec/batch
INFO:tensorflow:Step: 710, Loss: 4.889373, time: 4.196 sec/batch
INFO:tensorflow:Step: 714, Loss: 5.026983, time: 4.739 sec/batch
INFO:tensorflow:Step: 718, Loss: 4.890640, time: 4.564 sec/batch
INFO:tensorflow:Step: 722, Loss: 4.637996, time: 4.648 sec/batch
INFO:tensorflow:Step: 726, Loss: 4.819255, time: 4.073 sec/batch
INFO:tensorflow:Step: 729, Loss: 4.785292, time: 4.114 sec/batch
INFO:tensorflow:Step: 732, Loss: 4.865614, time: 3.827 sec/batch
INFO:tensorflow:Step: 736, Loss: 4.989928, time: 3.604 sec/batch
INFO:tensorflow:Step: 740, Loss: 4.761139, time: 4.034 sec/batch
INFO:tensorflow:Step: 744, Loss: 4.891755, time: 4.012 sec/batch
INFO:tensorflow:Step: 748, Loss: 5.134412, time: 4.200 sec/batch
INFO:tensorflow:Step: 752, Loss: 4.815682, time: 4.268 sec/batch
INFO:tensorflow:Step: 756, Loss: 4.863846, time: 4.501 sec/batch
INFO:tensorflow:Step: 760, Loss: 5.052622, time: 4.147 sec/batch
INFO:tensorflow:Step: 764, Loss: 4.827703, time: 5.408 sec/batch
INFO:tensorflow:Step: 768, Loss: 4.802270, time: 4.739 sec/batch
INFO:tensorflow:Step: 772, Loss: 4.965506, time: 5.420 sec/batch
INFO:tensorflow:Step: 777, Loss: 4.627146, time: 3.985 sec/batch
INFO:tensorflow:Step: 780, Loss: 4.960302, time: 4.583 sec/batch
INFO:tensorflow:Step: 785, Loss: 4.963547, time: 4.199 sec/batch
INFO:tensorflow:Step: 788, Loss: 4.848114, time: 4.024 sec/batch
INFO:tensorflow:Step: 792, Loss: 5.136947, time: 4.399 sec/batch
INFO:tensorflow:Step: 796, Loss: 5.247840, time: 5.183 sec/batch
INFO:tensorflow:global_step/sec: 0.906354
INFO:tensorflow:Step: 800, Loss: 4.918353, time: 3.980 sec/batch
INFO:tensorflow:Step: 804, Loss: 5.000045, time: 4.626 sec/batch
INFO:tensorflow:Step: 808, Loss: 4.802690, time: 4.130 sec/batch
INFO:tensorflow:Step: 812, Loss: 4.554400, time: 3.988 sec/batch
INFO:tensorflow:Step: 816, Loss: 4.788590, time: 4.199 sec/batch
INFO:tensorflow:Step: 820, Loss: 4.902944, time: 4.801 sec/batch
INFO:tensorflow:Step: 824, Loss: 4.790886, time: 4.013 sec/batch
INFO:tensorflow:Step: 828, Loss: 4.918247, time: 3.960 sec/batch
INFO:tensorflow:Step: 832, Loss: 4.786175, time: 3.862 sec/batch
INFO:tensorflow:Step: 836, Loss: 4.845975, time: 4.605 sec/batch
run-expr-32node.sh: line 25: 28197 Terminated              CUDA_VISIBLE_DEVICES=$1 bazel-bin/inception/imagenet_distributed_train --batch_size=32 --data_dir=/home/data/sample-data-$2 --job_name='worker' --task_id=$2 --ps_hosts='master:2200' --worker_hosts='master:2201,master:2202,master:2203,master:2204,node001:2205,node001:2206,node001:2207,node001:2208,node002:2209,node002:2210,node002:2211,node002:2212,node003:2213,node003:2214,node003:2215,node003:2216' --initial_learning_rate=$3 --momentum=$4 --sync=True --compute_groups=$5
