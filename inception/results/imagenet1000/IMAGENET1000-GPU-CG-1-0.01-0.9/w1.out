I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcublas.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcudnn.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcufft.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcuda.so locally
I tensorflow/stream_executor/dso_loader.cc:108] successfully opened CUDA library libcurand.so locally
INFO:tensorflow:PS hosts are: ['master:2200']
INFO:tensorflow:Worker hosts are: ['master:2201', 'master:2202', 'master:2203', 'master:2204', 'node001:2205', 'node001:2206', 'node001:2207', 'node001:2208', 'node002:2209', 'node002:2210', 'node002:2211', 'node002:2212', 'node003:2213', 'node003:2214', 'node003:2215', 'node003:2216', 'node004:2217', 'node004:2218', 'node004:2219', 'node004:2220', 'node005:2221', 'node005:2222', 'node005:2223', 'node005:2224', 'node006:2225', 'node006:2226', 'node006:2227', 'node006:2228', 'node007:2229', 'node007:2230', 'node007:2231', 'node007:2232']
I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:922] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
I tensorflow/core/common_runtime/gpu/gpu_init.cc:102] Found device 0 with properties: 
name: GRID K520
major: 3 minor: 0 memoryClockRate (GHz) 0.797
pciBusID 0000:00:03.0
Total memory: 4.00GiB
Free memory: 3.95GiB
I tensorflow/core/common_runtime/gpu/gpu_init.cc:126] DMA: 0 
I tensorflow/core/common_runtime/gpu/gpu_init.cc:136] 0:   Y 
I tensorflow/core/common_runtime/gpu/gpu_device.cc:784] Creating TensorFlow device (/gpu:0) -> (device: 0, name: GRID K520, pci bus id: 0000:00:03.0)
I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job ps -> {master:2200}
I tensorflow/core/distributed_runtime/rpc/grpc_channel.cc:206] Initialize HostPortsGrpcChannelCache for job worker -> {localhost:2201, master:2202, master:2203, master:2204, node001:2205, node001:2206, node001:2207, node001:2208, node002:2209, node002:2210, node002:2211, node002:2212, node003:2213, node003:2214, node003:2215, node003:2216, node004:2217, node004:2218, node004:2219, node004:2220, node005:2221, node005:2222, node005:2223, node005:2224, node006:2225, node006:2226, node006:2227, node006:2228, node007:2229, node007:2230, node007:2231, node007:2232}
I tensorflow/core/distributed_runtime/rpc/grpc_server_lib.cc:202] Started server with target: grpc://localhost:2201
INFO:tensorflow:Learning rate: 0.010000, momentum: 0.900000
INFO:tensorflow:Sync mode!!!!!!
INFO:tensorflow:Compute groups : 1
INFO:tensorflow:SyncReplicas enabled: replicas_to_aggregate=32; total_num_replicas=32
INFO:tensorflow:Num nodes per compute groups: 32
INFO:tensorflow:Tokens per step: 32
INFO:tensorflow:2016-08-10 14:23:58.681477 Supervisor
INFO:tensorflow:Restored model from /imagenet/snapshot/model.ckpt-7871
INFO:tensorflow:got sessions! 2016-08-10 14:24:56.352008 
INFO:tensorflow:Started 3 queues for processing input data.
INFO:tensorflow:global_step/sec: 0
W tensorflow/core/common_runtime/bfc_allocator.cc:213] Ran out of memory trying to allocate 830.43MiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory is available.
W tensorflow/core/common_runtime/bfc_allocator.cc:213] Ran out of memory trying to allocate 830.43MiB. The caller indicates that this is not a failure, but may mean that there could be performance gains if more memory is available.
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3869 get requests, put_count=2854 evicted_count=1000 eviction_rate=0.350385 and unsatisfied allocation rate=0.546653
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 100 to 110
INFO:tensorflow:Step: 7871, Loss: 10.083826, time: 20.165 sec/batch
INFO:tensorflow:Step: 7871, Loss: 9.611270, time: 5.833 sec/batch
INFO:tensorflow:Step: 7872, Loss: 9.530811, time: 3.230 sec/batch
INFO:tensorflow:Step: 7872, Loss: 8.997049, time: 2.518 sec/batch
INFO:tensorflow:Step: 7872, Loss: 9.657890, time: 6.198 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=1016 evicted_count=1000 eviction_rate=0.984252 and unsatisfied allocation rate=0
INFO:tensorflow:Step: 7873, Loss: 9.709442, time: 5.308 sec/batch
INFO:tensorflow:Step: 7873, Loss: 8.929134, time: 3.962 sec/batch
INFO:tensorflow:Step: 7873, Loss: 8.640007, time: 4.515 sec/batch
INFO:tensorflow:Step: 7874, Loss: 9.245243, time: 6.405 sec/batch
INFO:tensorflow:Step: 7874, Loss: 9.315165, time: 7.912 sec/batch
INFO:tensorflow:Step: 7875, Loss: 8.890400, time: 13.449 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3768 get requests, put_count=4060 evicted_count=2000 eviction_rate=0.492611 and unsatisfied allocation rate=0.459926
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 281 to 309
INFO:tensorflow:Step: 7876, Loss: 9.451498, time: 13.292 sec/batch
INFO:tensorflow:Step: 7877, Loss: 9.874673, time: 12.228 sec/batch
INFO:tensorflow:global_step/sec: 0.0561685
INFO:tensorflow:Step: 7878, Loss: 9.710964, time: 12.689 sec/batch
INFO:tensorflow:Step: 7879, Loss: 9.493605, time: 11.944 sec/batch
INFO:tensorflow:Step: 7880, Loss: 9.156269, time: 12.813 sec/batch
INFO:tensorflow:Step: 7881, Loss: 9.501985, time: 14.511 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 0 get requests, put_count=1049 evicted_count=1000 eviction_rate=0.953289 and unsatisfied allocation rate=0
INFO:tensorflow:Step: 7882, Loss: 9.754928, time: 12.728 sec/batch
INFO:tensorflow:Step: 7883, Loss: 9.691131, time: 12.365 sec/batch
INFO:tensorflow:Step: 7884, Loss: 8.318000, time: 11.160 sec/batch
INFO:tensorflow:Step: 7885, Loss: 9.472931, time: 12.482 sec/batch
INFO:tensorflow:Step: 7886, Loss: 9.580125, time: 13.390 sec/batch
INFO:tensorflow:global_step/sec: 0.0781716
INFO:tensorflow:Step: 7887, Loss: 9.062741, time: 13.432 sec/batch
INFO:tensorflow:Step: 7888, Loss: 9.481656, time: 13.480 sec/batch
INFO:tensorflow:Step: 7889, Loss: 9.313431, time: 12.167 sec/batch
INFO:tensorflow:Step: 7890, Loss: 8.955932, time: 11.241 sec/batch
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:244] PoolAllocator: After 3768 get requests, put_count=4016 evicted_count=1000 eviction_rate=0.249004 and unsatisfied allocation rate=0.227442
I tensorflow/core/common_runtime/gpu/pool_allocator.cc:256] Raising pool_size_limit_ from 1158 to 1273
INFO:tensorflow:Step: 7891, Loss: 8.985652, time: 11.600 sec/batch
INFO:tensorflow:Step: 7892, Loss: 8.008072, time: 13.940 sec/batch
INFO:tensorflow:Step: 7893, Loss: 9.234632, time: 13.725 sec/batch
INFO:tensorflow:Step: 7894, Loss: 9.892681, time: 14.125 sec/batch
INFO:tensorflow:Step: 7895, Loss: 8.481668, time: 12.359 sec/batch
INFO:tensorflow:global_step/sec: 0.0749952
INFO:tensorflow:Step: 7896, Loss: 10.005299, time: 11.887 sec/batch
INFO:tensorflow:Step: 7897, Loss: 8.421210, time: 11.845 sec/batch
INFO:tensorflow:Step: 7898, Loss: 8.823430, time: 12.447 sec/batch
INFO:tensorflow:Step: 7899, Loss: 9.175006, time: 14.645 sec/batch
INFO:tensorflow:Step: 7900, Loss: 9.534135, time: 11.368 sec/batch
INFO:tensorflow:Step: 7901, Loss: 9.610700, time: 15.164 sec/batch
INFO:tensorflow:Step: 7902, Loss: 10.291546, time: 12.170 sec/batch
INFO:tensorflow:Step: 7903, Loss: 10.041454, time: 11.995 sec/batch
INFO:tensorflow:Step: 7904, Loss: 9.366638, time: 13.378 sec/batch
INFO:tensorflow:Step: 7905, Loss: 9.653154, time: 12.688 sec/batch
INFO:tensorflow:global_step/sec: 0.0822455
INFO:tensorflow:Step: 7906, Loss: 8.750703, time: 13.977 sec/batch
INFO:tensorflow:Step: 7907, Loss: 9.978987, time: 11.927 sec/batch
INFO:tensorflow:Step: 7908, Loss: 8.681719, time: 13.375 sec/batch
INFO:tensorflow:Step: 7909, Loss: 9.413774, time: 13.358 sec/batch
INFO:tensorflow:Step: 7910, Loss: 8.911814, time: 15.572 sec/batch
INFO:tensorflow:Step: 7911, Loss: 9.984809, time: 12.107 sec/batch
INFO:tensorflow:Step: 7912, Loss: 8.835043, time: 12.427 sec/batch
INFO:tensorflow:Step: 7913, Loss: 9.455843, time: 13.188 sec/batch
INFO:tensorflow:Step: 7914, Loss: 8.954724, time: 11.914 sec/batch
INFO:tensorflow:global_step/sec: 0.0760106
INFO:tensorflow:Step: 7915, Loss: 8.833895, time: 11.179 sec/batch
INFO:tensorflow:Step: 7916, Loss: 8.924553, time: 11.618 sec/batch
INFO:tensorflow:Step: 7917, Loss: 8.847624, time: 12.200 sec/batch
INFO:tensorflow:Step: 7918, Loss: 9.733548, time: 13.330 sec/batch
INFO:tensorflow:Step: 7919, Loss: 10.237311, time: 13.213 sec/batch
INFO:tensorflow:Step: 7920, Loss: 8.623595, time: 12.338 sec/batch
INFO:tensorflow:Step: 7921, Loss: 8.617867, time: 10.772 sec/batch
INFO:tensorflow:Step: 7922, Loss: 8.229279, time: 14.449 sec/batch
INFO:tensorflow:Step: 7923, Loss: 9.463546, time: 12.706 sec/batch
INFO:tensorflow:Step: 7924, Loss: 9.528265, time: 13.172 sec/batch
INFO:tensorflow:global_step/sec: 0.0795826
INFO:tensorflow:Step: 7925, Loss: 9.855056, time: 12.615 sec/batch
INFO:tensorflow:Step: 7926, Loss: 8.739128, time: 12.591 sec/batch
INFO:tensorflow:Step: 7927, Loss: 9.193790, time: 11.350 sec/batch
INFO:tensorflow:Step: 7928, Loss: 9.918198, time: 11.196 sec/batch
INFO:tensorflow:Step: 7929, Loss: 9.728304, time: 11.713 sec/batch
INFO:tensorflow:Step: 7930, Loss: 9.843477, time: 10.737 sec/batch
INFO:tensorflow:Step: 7931, Loss: 9.222076, time: 13.362 sec/batch
INFO:tensorflow:Step: 7932, Loss: 9.281881, time: 12.420 sec/batch
INFO:tensorflow:Step: 7933, Loss: 9.365205, time: 12.520 sec/batch
INFO:tensorflow:Step: 7934, Loss: 8.860096, time: 11.512 sec/batch
INFO:tensorflow:global_step/sec: 0.0835461
INFO:tensorflow:Step: 7935, Loss: 9.875412, time: 11.513 sec/batch
INFO:tensorflow:Step: 7936, Loss: 10.151337, time: 12.865 sec/batch
INFO:tensorflow:Step: 7937, Loss: 8.851138, time: 11.741 sec/batch
INFO:tensorflow:Step: 7938, Loss: 8.636384, time: 13.963 sec/batch
INFO:tensorflow:Step: 7939, Loss: 9.930116, time: 11.884 sec/batch
INFO:tensorflow:Step: 7940, Loss: 9.225372, time: 11.644 sec/batch
INFO:tensorflow:Step: 7941, Loss: 8.433751, time: 11.525 sec/batch
INFO:tensorflow:Step: 7942, Loss: 9.123277, time: 11.521 sec/batch
INFO:tensorflow:Step: 7943, Loss: 9.356743, time: 11.357 sec/batch
INFO:tensorflow:Step: 7944, Loss: 10.241328, time: 12.747 sec/batch
INFO:tensorflow:global_step/sec: 0.0835966
INFO:tensorflow:Step: 7945, Loss: 10.058656, time: 11.769 sec/batch
INFO:tensorflow:Step: 7946, Loss: 9.152983, time: 11.212 sec/batch
INFO:tensorflow:Step: 7947, Loss: 8.566236, time: 11.016 sec/batch
INFO:tensorflow:Step: 7948, Loss: 8.995703, time: 12.260 sec/batch
INFO:tensorflow:Step: 7949, Loss: 9.047307, time: 12.435 sec/batch
INFO:tensorflow:Step: 7950, Loss: 9.200349, time: 14.658 sec/batch
INFO:tensorflow:Step: 7951, Loss: 9.235232, time: 12.259 sec/batch
INFO:tensorflow:Step: 7952, Loss: 9.285192, time: 14.604 sec/batch
INFO:tensorflow:Step: 7953, Loss: 8.958894, time: 13.439 sec/batch
INFO:tensorflow:global_step/sec: 0.078242
INFO:tensorflow:Step: 7954, Loss: 8.639087, time: 12.691 sec/batch
INFO:tensorflow:Step: 7955, Loss: 9.063811, time: 12.553 sec/batch
INFO:tensorflow:Step: 7956, Loss: 8.832053, time: 12.869 sec/batch
run-expr-aws-32node.sh: line 25: 86117 Terminated              CUDA_VISIBLE_DEVICES=$1 bazel-bin/inception/imagenet_distributed_train --batch_size=32 --data_dir=/imagenet/ilsvrc12_train_tfrecord_32_PARTITION/32P_p$2 --job_name='worker' --task_id=$2 --ps_hosts='master:2200' --worker_hosts='master:2201,master:2202,master:2203,master:2204,node001:2205,node001:2206,node001:2207,node001:2208,node002:2209,node002:2210,node002:2211,node002:2212,node003:2213,node003:2214,node003:2215,node003:2216,node004:2217,node004:2218,node004:2219,node004:2220,node005:2221,node005:2222,node005:2223,node005:2224,node006:2225,node006:2226,node006:2227,node006:2228,node007:2229,node007:2230,node007:2231,node007:2232' --initial_learning_rate=$3 --momentum=$4 --sync=True --compute_groups=$5
